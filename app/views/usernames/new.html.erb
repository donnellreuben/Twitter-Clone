<!--------------------------- Register Settings path ----------------------------->

<div class="container py-5" style="max-width: 540px">
  <h2>Set your Username</h2>

  <%= form_with model: current_user, local: true, url: username_path(current_user) do |f| %>
    <div class="mb-3">
      <%= f.label :username, class: "form-label" %>
      <%= f.text_field :username, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :display_name, class: "form-label" %>
      <%= f.text_field :display_name, class: "form-control" %>
    </div>

    <div class="input-group mb-3">
      <%# <%= f.label :avatar, class: "input-group-text" %>
      <%= f.file_field :avatar, class: "form-control", id: "avatar-input" %>
    </div>

    <%= f.submit "Save", class: "btn btn-primary btn-twitter rounded-pill", id: "save-button" %>
  <% end %>
</div>

<script>
  document.getElementById("save-button").addEventListener("click", function(event) {
    var username = document.getElementsByName("user[username]")[0].value;
    var display_name = document.getElementsByName("user[display_name]")[0].value;
    var avatar = document.getElementById("avatar-input").value;

    if (username == "" || display_name == "" || avatar == "") {
      alert("Please fill in all required fields.");
      event.preventDefault();
    }
  });
</script>
